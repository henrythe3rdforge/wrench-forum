{% extends "base.html" %}

{% block title %}Parts Stores - Wrench Forum{% endblock %}

{% block content %}
<div class="stores-page">
    <h1>Parts Stores & Retailers</h1>
    <p class="stores-description">Community-rated parts stores. Verified mechanics can vote on store reliability.</p>
    
    <div class="stores-layout">
        <aside class="sidebar">
            <h3>Categories</h3>
            <ul class="category-list">
                <li class="{% if not current_category %}active{% endif %}">
                    <a href="/stores">All Stores</a>
                </li>
                {% for cat in default_categories %}
                <li class="{% if current_category == cat %}active{% endif %}">
                    <a href="/stores?category={{ cat | urlencode }}">{{ cat }}</a>
                </li>
                {% endfor %}
            </ul>
            
            {% if user %}
            <h3>Submit Store</h3>
            <form hx-post="/stores/submit" hx-target="#store-list" hx-swap="innerHTML" class="store-form">
                <div class="form-group">
                    <input type="text" name="name" placeholder="Store Name" required>
                </div>
                <div class="form-group">
                    <input type="url" name="url" placeholder="https://..." required>
                </div>
                <div class="form-group">
                    <select name="category" required>
                        <option value="">Category...</option>
                        {% for cat in default_categories %}
                        <option value="{{ cat }}">{{ cat }}</option>
                        {% endfor %}
                    </select>
                </div>
                <button type="submit" class="btn btn-primary btn-block">Submit</button>
            </form>
            {% endif %}
        </aside>
        
        <section class="main-content" id="store-list">
            {% include "partials/store_list.html" %}
        </section>
    </div>
</div>
{% endblock %}
